# === CONFIGURACIÓN DE DESARROLLO ===
spring.application.name=violeta-backend-nucleo

server.port=${VIOLETABACKENDNUCLEO_PORT:6820}

# === CONFIGURACIÓN DE BASE DE DATOS DESARROLLO ===
spring.datasource.url=jdbc:mariadb://${VIOLETABACKENDNUCLEO_DB:localhost:3308/20251102_multiempresa}?useSSL=false
spring.datasource.username=${VIOLETABACKENDNUCLEO_DB_USERNAME:}
spring.datasource.password=${VIOLETABACKENDNUCLEO_DB_PASSWORD:}
spring.datasource.hikari.maximum-pool-size=5

# === CONFIGURACIÓN DE HIBERNATE DESARROLLO ===
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver
# create, create-drop
spring.jpa.hibernate.ddl-auto=none
spring.flyway.enabled=false

# === CONFIGURACIÓN DE SEGURIDAD BÁSICA ===
spring.security.user.name=username
spring.security.user.password=password

# === CONFIGURACIÓN DE LOGGING DESARROLLO ===
# mandar a archivo
logging.file.name=logfile.log
logging.level.org.springframework.web=debug
logging.level.org.springframework.web.servlet.DispatcherServlet=trace
spring.mvc.log-resolved-exception=true
logging.level.org.springframework.security=trace
spring.security.debug=true
logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=debug
logging.level.org.hibernate.validator=trace

# Log sql - más verbose en desarrollo
logging.level.org.springframework.jdbc.core.JdbcTemplate=trace
logging.level.org.springframework.jdbc.core.StatementCreatorUtils=trace
logging.level.com.lavioleta.desarrollo.violetaserver=debug

# === CONFIGURACIÓN DE NEGOCIO ===
# Sucursal activa por defecto para el sistema
app.sucursal.activa=${SUCURSAL_ACTIVA:S1}

# === CONFIGURACIÓN DE SEGURIDAD DE LOGIN DESARROLLO ===
# Configuración más permisiva para desarrollo
security.login.max-attempts=10
security.login.lockout-duration-minutes=5
security.login.admin-max-attempts=15
security.login.enable-rate-limiting=false
security.login.persistent-lockout=false
security.login.cleanup-interval-hours=1

# Configuración de auditoría de seguridad - mínima en desarrollo
security.login.enable-audit-log=false
security.login.log-failed-attempts=true
security.login.log-successful-logins=false

# === CONFIGURACIÓN DE AUTORIZACIÓN DESARROLLO ===
security.authorization.cache.ttl=PT2M
security.authorization.cache.maximum-size=200
security.authorization.version.min=1.0
security.authorization.version.sub=0
security.authorization.version.grace-minutes=15
security.authorization.enforcement-enabled=true

# Configuración de sesión - más permisiva en desarrollo
security.session.duration-hours=8
security.session.extend-on-activity=true
security.session.secure-cookies=false

# === CONFIGURACIÓN ADICIONAL DE DESARROLLO ===
# Mostrar SQL queries formateadas
spring.devtools.restart.enabled=true
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true

# Naming strategy - usar nombres exactos de las columnas especificadas en @Column
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# Errores detallados para debugging
server.error.include-stacktrace=always
server.error.include-message=always
server.error.include-binding-errors=always

# === NOTAS DE DESARROLLO ===
# Los valores de esta configuración son para desarrollo
# Para producción usar: --spring.profiles.active=prod
# Ver application-prod.properties para configuración de producción